"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9608],{9608:function(n,e,t){t.r(e),t.d(e,{default:function(){return A}});var r=t(2215),i=t(2784),u=t(3980),o=t(1461),c=t(7896),a=(t(3463),function(n,e,t){return n=(n=n<=t?n:t)>=e?n:e}),s=function(){var n=!1,e=[],t=function t(){n=!0;var r=e.shift();if(r)return r(t);n=!1};return{clear:function(){n=!1,e=[]},enqueue:function(r){e.push(r),n||1!==e.length||t()}}},f=function(n){(0,i.useEffect)(n,[])},l=function(n){return++n%1e6},d=function(n){void 0===n&&(n={});var e=function(){var n=(0,i.useState)(0)[1];return(0,i.useCallback)((function(){return n(l)}),[])}(),t=(0,i.useRef)((0,c.Z)({},n));return[(0,i.useCallback)((function(){return t.current}),[]),(0,i.useCallback)((function(n){n&&(Object.assign(t.current,n),e())}),[])]},v=function(n,e){var t=function(){var n=(0,i.useRef)(!0);return n.current?(n.current=!1,!0):n.current}();(0,i.useEffect)((function(){if(!t)return n()}),e)},m=function(){},p={isFinished:!0,progress:0,sideEffect:m},h=function(n){var e=void 0===n?{}:n,t=e.animationDuration,r=void 0===t?200:t,u=e.incrementDuration,o=void 0===u?800:u,l=e.isAnimating,h=void 0!==l&&l,g=e.minimum,E=void 0===g?.08:g,b=d(p),C=b[0],y=b[1],k=(0,i.useRef)(null),q=(0,i.useRef)(null);f((function(){k.current=s(),q.current=function(){var n;return{cancel:function(){n&&window.cancelAnimationFrame(n)},schedule:function(e,t){var r;n=window.requestAnimationFrame((function i(u){u-(r=r||u)>t?e():n=window.requestAnimationFrame(i)}))}}}()}));var F=(0,i.useCallback)((function(){var n,e;null==(n=q.current)||n.cancel(),null==(e=k.current)||e.clear()}),[]),D=(0,i.useCallback)((function(n){var e,t,i;if(1===(n=a(n,E,1)))return F(),null==(t=k.current)||t.enqueue((function(e){y({progress:n,sideEffect:function(){var n;return null==(n=q.current)?void 0:n.schedule(e,r)}})})),void(null==(i=k.current)||i.enqueue((function(){y({isFinished:!0,sideEffect:F})})));null==(e=k.current)||e.enqueue((function(e){y({isFinished:!1,progress:n,sideEffect:function(){var n;return null==(n=q.current)?void 0:n.schedule(e,r)}})}))}),[r,F,E,k,y,q]),R=(0,i.useCallback)((function(){D(function(n){var e=0;return n>=0&&n<.2?e=.1:n>=.2&&n<.5?e=.04:n>=.5&&n<.8?e=.02:n>=.8&&n<.99&&(e=.005),a(n+e,0,.994)}(C().progress))}),[C,D]),w=(0,i.useCallback)((function(){!function n(){var e;R(),null==(e=k.current)||e.enqueue((function(e){var t;null==(t=q.current)||t.schedule((function(){n(),e()}),o)}))}()}),[o,k,q,R]),x=(0,i.useRef)(m),A=C().sideEffect;return(0,i.useEffect)((function(){x.current=R})),f((function(){return h&&w(),F})),v((function(){C().sideEffect()}),[C,A]),v((function(){h?y((0,c.Z)({},p,{sideEffect:w})):D(1)}),[h,D,y,w]),{animationDuration:r,isFinished:C().isFinished,progress:C().progress}},g=["children"],E=function(n){var e=n.children,t=(0,o.Z)(n,g);return e(h(t))};var b=function(n){var e=n.children,t=n.isFinished,r=n.animationDuration;return i.createElement("div",{style:{opacity:t?0:1,pointerEvents:"none",transition:"opacity ".concat(r,"ms linear")}},e)};b.displayName="Container",b.propTypes={animationDuration:u.number.isRequired,children:u.node.isRequired,isFinished:u.bool.isRequired};var C,y=b,k=t(1171),q=t(316),F=function(n){var e=n.animationDuration,t=n.context,r=n.progress;return i.createElement(D,{context:t,style:{marginLeft:"".concat(100*(-1+r),"%"),transition:"margin-left ".concat(e,"ms linear")}})};F.displayName="Bar",F.propTypes={animationDuration:u.number.isRequired,context:u.string,progress:u.number.isRequired};var D=q.ZP.div(C||(C=(0,k.Z)(["\n  background-color: ",";\n  height: 0.25rem;\n  left: 0;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 1031;\n"])),(function(n){var e=n.context;return n.theme.COLOUR[e]})),R=F,w=t(6612),x=function(n){var e=n.context,t=n.isAnimating,u=n.instanceKey,o=n.router,c=(0,i.useState)(!1),a=(0,r.Z)(c,2),s=a[0],f=a[1],l=(0,i.useState)(null),d=(0,r.Z)(l,2),v=d[0],m=d[1],p=function(){f(!0),m((new Date).getTime())},h=function(){f(!1)};return(0,i.useEffect)((function(){o&&(o.events.on("routeChangeStart",p),o.events.on("routeChangeComplete",h),o.events.on("routeChangeError",h))}),[]),i.createElement(E,{isAnimating:s||t,key:v||u},(function(n){var t=n.animationDuration,r=n.isFinished,u=n.progress;return i.createElement(y,{animationDuration:t,isFinished:r},i.createElement(R,{animationDuration:t,context:e,progress:u}))}))};x.displayName="PageProgressBar",x.propTypes={context:(0,u.oneOf)(Object.values(w.Z)),isAnimating:u.bool,instanceKey:u.string,router:u.object},x.defaultProps={context:"info",isAnimating:!1,instanceKey:null};var A=x}}]);